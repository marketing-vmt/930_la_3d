<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>KeyShotXR Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100vh;
        width: 100vw;
        background: transparent;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        touch-action: none;
      }

      #KeyShotXR {
        width: 100%;
        max-width: 800px;
        aspect-ratio: 1 / 1;
        background: transparent;
        touch-action: none;
      }

      @media (max-width: 768px) {
        #KeyShotXR {
          max-width: 95%;
        }
      }

      #controls {
        margin-top: 10px;
        display: flex;
        gap: 10px;
      }

      .zoom-button {
        padding: 10px 16px;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        background-color: #444;
        color: white;
        cursor: pointer;
      }

      .zoom-button:hover {
        background-color: #666;
      }
    </style>

    <script type="text/javascript" src="Delta 930 kaif.147/files/KeyShotXR.js"></script>

    <script type="text/javascript">
      let keyshotXR;
      let isFullscreen = false;

      function initKeyShotXR() {
        keyshotXR = new keyshotXR(
          "KeyShotXR",                     // ID of the div
          "Delta 930 kaif.147",            // Folder name
          window.innerWidth,               // Width
          window.innerWidth,               // Height
          "rgba(0,0,0,0)",                 // Transparent background
          20,                              // uCount
          20,                              // vCount
          true,                            // uWrap
          false,                           // vWrap
          -0.0555556,                      // uMouseSensitivity
          0.125,                           // vMouseSensitivity
          10,                              // uStartIndex
          10,                              // vStartIndex
          0.5,                             // minZoom
          2,                               // maxZoom
          0.96,                            // rotationDamping
          false,                           // downScaleToBrowser
          false,                           // addDownScaleGUIButton
          false,                           // downloadOnInteraction
          "webp",                          // imageExtension
          false,                           // showLoading
          "",                              // loadingIcon
          true,                            // allowFullscreen
          false,                           // uReverse
          false,                           // vReverse
          {},                              // hotspots
          false                            // isIBooksWidget
        );

        // Auto-rotate gently
        setInterval(() => {
          if (keyshotXR?.spin) {
            keyshotXR.spin(0.5, 0); // Horizontal slow spin
          }
        }, 50);
      }

      // Zoom controls
      function zoomIn() {
        if (keyshotXR?.zoom) keyshotXR.zoom(1.1);
      }

      function zoomOut() {
        if (keyshotXR?.zoom) keyshotXR.zoom(0.9);
      }

      // Fullscreen toggle
      function toggleFullscreen() {
        const el = document.documentElement;
        if (!isFullscreen) {
          if (el.requestFullscreen) el.requestFullscreen();
          else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
        } else {
          if (document.exitFullscreen) document.exitFullscreen();
          else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
        }
        isFullscreen = !isFullscreen;
      }

      // Double-click (desktop) or double-tap (mobile) for fullscreen
      let lastTap = 0;
      document.addEventListener("touchend", (e) => {
        const currentTime = new Date().getTime();
        if (currentTime - lastTap < 300) toggleFullscreen();
        lastTap = currentTime;
      });
      document.addEventListener("dblclick", toggleFullscreen);

      window.onload = initKeyShotXR;
    </script>
  </head>
  <body oncontextmenu="return false;">
    <div id="KeyShotXR"></div>
    <div id="controls">
      <button class="zoom-button" onclick="zoomIn()">Zoom In</button>
      <button class="zoom-button" onclick="zoomOut()">Zoom Out</button>
    </div>
  </body>
</html>

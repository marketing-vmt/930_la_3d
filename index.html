<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KeyShotXR Tailwind Viewer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="Delta 930 kaif.147/files/KeyShotXR.js"></script>
    <style>
      body {
        background-color: black;
        overflow: hidden;
        -webkit-user-select: none;
        user-select: none;
      }

      #KeyShotXR {
        aspect-ratio: 1 / 1;
      }

      /* Prevent default pinch zoom */
      html, body {
        touch-action: manipulation;
      }
    </style>
  </head>
  <body class="flex items-center justify-center h-screen w-screen relative">

    <!-- KeyShotXR Viewer -->
    <div id="KeyShotXR" class="w-[90vw] max-w-[800px] mx-auto"></div>

    <!-- Zoom Controls -->
    <div class="absolute bottom-6 right-6 flex flex-col gap-4 z-50">
      <button onclick="zoomIn()" class="w-12 h-12 rounded-full border-2 border-white text-red-500 text-2xl flex items-center justify-center hover:bg-white/10">
        +
      </button>
      <button onclick="zoomOut()" class="w-12 h-12 rounded-full border-2 border-white text-red-500 text-2xl flex items-center justify-center hover:bg-white/10">
        −
      </button>
    </div>

    <!-- Close Button -->
    <button onclick="window.close()"
      class="absolute top-6 right-6 w-10 h-10 rounded-full border-2 border-white text-red-500 text-xl flex items-center justify-center z-50 hover:bg-white/10">
      ×
    </button>

    <!-- Init Script -->
    <script>
      let keyshotXR;

      function initKeyShotXR() {
        const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
        const viewerSize = Math.min(window.innerWidth * 0.95, window.innerHeight * 0.95);

        keyshotXR = new keyshotXR(
          "KeyShotXR",
          "Delta 930 kaif.147",
          viewerSize,
          viewerSize,
          "transparent",
          20, 20,
          true, false,
          isMobile ? -0.08 : -0.055,
          isMobile ? 0.15 : 0.125,
          8, 10,
          0.3, 3,
          0.96,
          false, false, false,
          "webp",
          true,
          "ba.png",
          true,
          false, false,
          {},
          false
        );

        // Auto-zoom on load
        setTimeout(() => {
          if (keyshotXR?.zoom) {
            keyshotXR.zoom(2.8);
            keyshotXR.centerImage?.();
          }
        }, 1000);
      }

      window.addEventListener("load", initKeyShotXR);
      window.addEventListener("resize", () => keyshotXR?.resize?.());
      window.addEventListener("orientationchange", () => keyshotXR?.resize?.());

      // Touch gesture restrictions
      document.addEventListener("contextmenu", e => e.preventDefault());
      document.addEventListener("touchstart", e => { if (e.touches.length > 1) e.preventDefault(); }, { passive: false });
      document.addEventListener("touchmove", e => { if (e.touches.length > 1) e.preventDefault(); }, { passive: false });

      function zoomIn() {
        keyshotXR?.zoom?.(1.2);
      }

      function zoomOut() {
        keyshotXR?.zoom?.(0.8);
      }
    </script>
  </body>
</html>

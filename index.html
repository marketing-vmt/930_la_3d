<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>KeyShotXR</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
        background: transparent;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        touch-action: none;
      }

      #KeyShotXR {
        width: 100%;
        max-width: 1000px;
        aspect-ratio: 1/1;
        touch-action: pinch-zoom;
        background: transparent;
      }

      @media (max-width: 768px) {
        #KeyShotXR {
          max-width: 95%;
        }
      }

      #controls {
        display: flex;
        justify-content: center;
        margin-top: 10px;
        gap: 12px;
      }

      .zoom-button {
        background: #444;
        color: #fff;
        border: none;
        padding: 10px 16px;
        font-size: 16px;
        border-radius: 6px;
        cursor: pointer;
      }

      .zoom-button:hover {
        background: #666;
      }
    </style>

    <script type="text/javascript" src="Delta 930 kaif.147/files/KeyShotXR.js"></script>
    <script type="text/javascript">
      let keyshotXR;
      let isFullscreen = false;

      function initKeyShotXR() {
        const nameOfDiv = "KeyShotXR";
        const folderName = "Delta 930 kaif.147";
        const viewPortWidth = window.innerWidth;
        const viewPortHeight = window.innerWidth;
        const backgroundColor = "transparent"; // make background transparent
        const uCount = 20;
        const vCount = 20;
        const uWrap = true;
        const vWrap = false;
        const uMouseSensitivity = -0.0555556;
        const vMouseSensitivity = 0.125;
        const uStartIndex = 10;
        const vStartIndex = 10;
        const minZoom = 0.5;
        const maxZoom = 2;
        const rotationDamping = 0.96;
        const downScaleToBrowser = false;
        const addDownScaleGUIButton = false;
        const downloadOnInteraction = false;
        const imageExtension = "webp";
        const showLoading = false;
        const loadingIcon = "";
        const allowFullscreen = true;
        const uReverse = false;
        const vReverse = false;
        const hotspots = {};
        const isIBooksWidget = false;

        keyshotXR = new keyshotXR(
          nameOfDiv,
          folderName,
          viewPortWidth,
          viewPortHeight,
          backgroundColor,
          uCount,
          vCount,
          uWrap,
          vWrap,
          uMouseSensitivity,
          vMouseSensitivity,
          uStartIndex,
          vStartIndex,
          minZoom,
          maxZoom,
          rotationDamping,
          downScaleToBrowser,
          addDownScaleGUIButton,
          downloadOnInteraction,
          imageExtension,
          showLoading,
          loadingIcon,
          allowFullscreen,
          uReverse,
          vReverse,
          hotspots,
          isIBooksWidget
        );

        // Subtle auto-rotate
        setInterval(() => {
          if (keyshotXR && typeof keyshotXR.spin === "function") {
            keyshotXR.spin(0.5, 0); // x-axis only
          }
        }, 50);
      }

      function zoomIn() {
        if (keyshotXR?.zoom) keyshotXR.zoom(1.1);
      }

      function zoomOut() {
        if (keyshotXR?.zoom) keyshotXR.zoom(0.9);
      }

      function toggleFullscreen() {
        const el = document.documentElement;
        if (!isFullscreen) {
          el.requestFullscreen?.() || el.webkitRequestFullscreen?.() || el.msRequestFullscreen?.();
        } else {
          document.exitFullscreen?.() || document.webkitExitFullscreen?.() || document.msExitFullscreen?.();
        }
        isFullscreen = !isFullscreen;
      }

      window.onload = initKeyShotXR;

      // Mobile double-tap for fullscreen
      let lastTap = 0;
      document.addEventListener("touchend", function (e) {
        const currentTime = new Date().getTime();
        if (currentTime - lastTap < 300) toggleFullscreen();
        lastTap = currentTime;
      });

      // Desktop double-click
      document.addEventListener("dblclick", toggleFullscreen);
    </script>
  </head>
  <body oncontextmenu="return false;">
    <div id="KeyShotXR"></div>
    <div id="controls">
      <button class="zoom-button" onclick="zoomIn()">Zoom In</button>
      <button class="zoom-button" onclick="zoomOut()">Zoom Out</button>
    </div>
  </body>
</html>
